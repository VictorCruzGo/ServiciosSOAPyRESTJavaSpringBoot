<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:w="http://xmlns.jcp.org/jsf/passthrough">
<!-- INTERFACE -->

<composite:interface>
	<composite:attribute name="ComponenteIndex" />
	<composite:attribute name="ComponenteAgrupador" />	
	<composite:attribute name="EsVisibleOperaciones" />
</composite:interface>

<!-- IMPLEMENTATION -->
<composite:implementation>

<style type="text/css">

.ui-datatable .ui-row-editor .ui-icon-pencil:before{
    content: "\f14b";
}
</style>


	<h:form id="idComponenteGrillaSincronizacionForm">
		<p:dataTable id="idConsultaSeguimientoCertificacionSistemas"
			widgetVar="idConsultaSeguimientoCertificacionSistemas"
			value="#{seguimientoCertificacionSistemasController.seguimientoCertificacionSistemasList.listaSeguimientoDetallePruebasSistemas}"
			var="lista" emptyMessage="No se encontraron registros."
			rowIndexVar="rowIndex" sortMode="multiple" paginatorPosition="bottom"
			rowsPerPageTemplate="50,75,100" rows="26" paginator="true"
			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			currentPageReportTemplate="{startRe	cord} a {endRecord} de {totalRecords} registros"
			styleClass="table table-striped table-bordered table-hover table-sm"
			rowStyleClass="#{lista.satisfactorio eq true  ? 'old' : null}">
			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Nro."></h:outputText>
				</f:facet>
				<h:outputText value="#{(rowIndex-cc.attrs.ComponenteIndex)+1}"></h:outputText>				
			</p:column>
			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="agrupador"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.agrupador}"></h:outputText>
			</p:column>
			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Tipo de Prueba"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.tipo_prueba}">
				</h:outputText>
			</p:column>
			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Código de Ambiente"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.codigo_ambiente}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Código de Sistema"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.codigo_sistema}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Nit"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.nit_requerimiento}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Cuis"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.cuis}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Sucursal"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.sucursal_requerimiento}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Código de Punto de Venta"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.codigo_punto_venta}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Código de Autorización"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.codigo_autorizacion}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Tipo de Validación"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.tipo_validacion}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Requisito para realizar la prueba"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.requisito_prueba}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Descripción Prueba"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.descripcion_prueba}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Resultado Esperado"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.resultado_esperado}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Solución"></h:outputText>
				</f:facet>
				<h:outputText value="#{lista.solucion}">
				</h:outputText>
			</p:column>

			<p:column style="text-align: center">
				<f:facet name="header">
					<h:outputText value="Porcentaje de avance"></h:outputText>
				</f:facet>
				<p:progressBar rendered="#{lista.opcional!=1}" id="idBarraEtapa1"
					value="#{lista.porcentaje_avance}" displayOnly="true" />
				<h:outputText rendered="#{lista.opcional!=1}"
					value="#{lista.porcentaje_avance} %">
				</h:outputText>
				<p:tooltip for="idBarraEtapa1">
					<h:outputText value="Fecha de prueba #{lista.fecha_registro}" />
					<br />
					<h:outputText value="Totales:" />
					<br />
					<i class="fa fa-check " />
					<p:spacer width="5" height="5" />
					<h:outputText
						value="#{lista.cantidad_casos_correctos} pruebas correctas" />
					<br />
					<i class="fa fa-close" />
					<p:spacer width="7" height="7" />
					<h:outputText
						value="#{lista.cantidad_casos_incorrectos} pruebas incorrectas" />
					<br />
					<i class="fa fa-exclamation" />
					<p:spacer width="12" height="12" />
					<h:outputText
						value="#{lista.cantidad_casos_esperados} pruebas esperadas" />
				</p:tooltip>
			</p:column>
			<p:column headerText="Registrar" width="8%" style="text-align:center">
				<p:commandButton id="opcional4"
					icon="#{lista.satisfactorio ? 'fa fa-lock':'fa fa-save'}"
					styleClass="text-blue" rendered="#{lista.opcional==1}"
					disabled="#{lista.satisfactorio}" validateClient="false"
					ajax="true" async="true" process="@this"
					update="idConsultaSeguimientoCertificacionSistemas"
					actionListener="#{seguimientoCertificacionSistemasController.registroPruebaDetalleOpcional(lista)}">

					<p:confirm header="Confirmación"
						message="¿Usted ACEPTA que realizó este caso de prueba?"
						icon="fa fa-exclamation-triangle">
					</p:confirm>
					<p:tooltip id="toolTipContent" for="opcional4" position="left">
						<h:graphicImage value="/images/ico_alerta.png" />
 							 	 		Presione para registrar el caso de prueba sugerido.   
								</p:tooltip>
				</p:commandButton>
			</p:column>
		</p:dataTable>
	</h:form>
</composite:implementation>

<!-- EJEMPLO -->

<!-- <sre:ComponenteGrillaContactos ComponenteIdTrasActualizar="" 
	                               						   ComponenteIdTrasEliminar=""
	                               				           EsVisibleOperaciones="true"/> -->

</html>

